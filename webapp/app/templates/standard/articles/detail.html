{% extends "standard/base.html" %}
<!--
    Dettaglio Articolo - Modalit√† Standard

    Mostra un articolo completo con:
    - Tutti i metadati
    - Contenuto markdown renderizzato
    - Sommario AI (se generato)
    - Azioni disponibili
-->

{% block title %}{{ article.titolo }} - GEKO Magazine{% endblock %}

{% block main %}
<div class="article-detail">

    <header class="article-header">
        <h1>{{ article.titolo }}</h1>

        {% if article.sottotitolo %}
        <p class="subtitle">{{ article.sottotitolo }}</p>
        {% endif %}

        <div class="meta">
            {% if article.autore %}
            <span class="author">
                {{ article.nome_autore }} {{ article.autore }}
            </span>
            {% endif %}
            <span class="date">{{ article.created_at.strftime('%d %B %Y') }}</span>
        </div>
    </header>

    <!-- Sommario AI -->
    {% if article.sommario_llm %}
    <div class="ai-summary">
        <h3>üìù Sommario AI</h3>
        <p>{{ article.sommario_llm }}</p>
    </div>
    {% endif %}

    <!-- Contenuto -->
    <div class="article-content">
        <h3>Contenuto Markdown</h3>
        <pre class="markdown-preview">{{ article.contenuto_md }}</pre>
    </div>

    <!-- Azioni -->
    <div class="article-actions">
        <a href="/articles/{{ article.id }}/edit" class="btn btn-primary">‚úèÔ∏è Modifica</a>

        {% if not article.sommario_llm %}
        <button
            class="btn btn-outline"
            hx-post="/articles/{{ article.id }}/summary"
            hx-target=".ai-summary"
            hx-swap="outerHTML"
        >
            ü§ñ Genera Sommario AI
        </button>
        {% endif %}

        <a href="/articles/" class="btn btn-secondary">‚Üê Torna alla lista</a>
    </div>

</div>
{% endblock %}

{% extends "simple/base.html" %}
<!--
    Upload Immagini - Modalit√† Semplice

    Interfaccia per caricare immagini con:
    - Area drop grande
    - Preview delle immagini caricate
    - Conferma visiva
-->

{% block title %}Carica Immagini - GEKO Magazine{% endblock %}

{% block simple_content %}
<div class="simple-images">

    <h1 class="simple-title">Carica Immagini</h1>

    <p class="simple-info">
        Carica le immagini per gli articoli (JPG, PNG).
    </p>

    <form
        hx-post="/upload/images"
        hx-target="#images-result"
        hx-encoding="multipart/form-data"
        class="upload-form"
    >
        <!-- Area upload -->
        <div class="upload-area" id="upload-area">
            <span class="upload-icon">üñºÔ∏è</span>
            <p class="upload-text">Clicca per scegliere immagini</p>
            <p class="upload-hint">Puoi selezionarne pi√π di una</p>

            <input
                type="file"
                name="files"
                id="files-input"
                accept="image/*"
                multiple
                required
                class="file-input"
            >
        </div>

        <!-- Conteggio file -->
        <div id="files-count" class="files-count"></div>

        <!-- Bottone conferma -->
        <button type="submit" class="big-button big-button-primary" id="submit-btn" disabled>
            <span class="big-icon">‚úì</span>
            <span class="big-text">CARICA IMMAGINI</span>
        </button>
    </form>

    <!-- Risultato -->
    <div id="images-result" class="images-result"></div>

    <!-- Torna indietro -->
    <a href="/simple" class="back-link">‚Üê Torna al menu</a>

</div>

<script>
document.getElementById('files-input').addEventListener('change', function(e) {
    const count = e.target.files.length;
    document.getElementById('files-count').textContent =
        count ? `üìé ${count} immagine/i selezionata/e` : '';
    document.getElementById('submit-btn').disabled = !count;
});
</script>
{% endblock %}
